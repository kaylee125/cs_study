## OSI 참조모델 
-타사제품끼리 네트워크나 구조가 달라 서로 통신되지 않는 문제점->국제 표준화기구에서 OSI구조 제안
![](https://velog.velcdn.com/images/leesh970930/post/e271b239-c88d-41f1-94e9-f2d1fcd1ff3c/image.png)

-7계층으로 구성

-N계층의 프로토콜 모듈은 상대방의 동일 계층 프로토콜 모듈과 통신을 하며 동일 계층에 있는 N계층 끼리의 통신 규약을 N계층 프로토콜이라 함(ex.송신측 세션계층과 수신측 세션계층끼리의 통신규약=세션계층 프로토콜)

-N계층 프로토콜이 상대방의 동일 계층에 데이터를 직접 전달하는 것이 아니라 하위 계층인 N-1계층의 서비스를 이용(세션은 트랜스포트->네트워크->데이터링크->물리 순서의 하위계층 단계를 거쳐 최종적으로 물리계층에서 데이터 전달)

-수신측에서는 물리계층에서 데이터를 수신하여 상위계층에 전달하는 과정을 반복

-상위계층은 하위계층의 **사용자**, 하위계층은 상위계층의 **서비스 제공자**

**계층구조의 장점**
:크고 복잡한 시스템을 기능별로 나누어 개발 과정을 단순화

**2) 서비스 프리미티브**
-동일 호스트 상의 서비스 사용자와 서비스 제공자간 주고받는 데이터를 말함
-요청(request),통지(indication),응답(response),확인(confirm)
![](https://velog.velcdn.com/images/leesh970930/post/e48e67e6-f41b-4392-9734-77c2d5eafb67/image.png)
-송신프로토콜에서 수신프로토콜로 직접 데이터 전송 불가 ->하위계층을 통해 전송
**서비스 프리미티브-캡슐화**
-서비스 프리미티브를 이용하여 N+1계층의 송신 데이터는 N계층의 서비스 데이터 단위(SDU)로 N계층에 넘겨짐
-N계층에서는 여기에 프로토콜 제어 정보를 헤더로 붙여 N계층 PDU를 만듦
-N계층 PDU도 N-1계층의 서비스 데이터가 되어 N-1계층에 전달
![](https://velog.velcdn.com/images/leesh970930/post/86c425bc-29f7-41a7-aa34-52af05ba0df6/image.png)

>캡슐화
>![](https://velog.velcdn.com/images/leesh970930/post/1e5e93cc-2cb8-4607-9d6c-51a47a448cbb/image.png)-점선:개념적,논리적 전달의 의미 
>-PDU: N계층의 SDU
>-SDU:N+1계층의 PDU
>-APDU->표현계층으로 내려와 (Header+Service Data Unit=PPDU)->세션계층->트랜스포트->네트워크->데이터링크(데이터링크의 전송단위=Frame)->Frame을 물리계층(하드웨어)를 통해 수신 호스트로 전달

**3) OSI 참조모델 7계층-물리계층**
-OSI참조모델 중 계층 1에 해당하며 전송매체에 대한 전기적, 기계적인 인터페이스를 다룸
-전송하고자하는 데이터를 전송매체에 적합한 전기적 신호로 바꾸는 기능
-물리계층은 하드웨어로 구현(계층 2부터는 대부분 소프트웨어로 구현)
-물리계층에 해당하는 관련 장치들:리피터,허브,케이블,이더넷,LAN(UTP,STP) 등

**4) OSI 참조모델 7계층-데이터링크**
-데이터의 오류문제를 해결(상위계층인 네트워크 계층에 오류문제에 대한 부담을 줄임)
-**프레임**: 데이터 링크 계층에서 전송하는 데이터 단위
-주요 기능:
- 순서제어:데이터의 순차적 전송을 위해 프레임 번호 부여
- 오류제어:오류 검출,교정
- 흐름제어:연속적인 프레임 전송시 수신측이 수신 가능한지에 대한 여부 제어
- 프레임 동기화:데이터 전송시 프레임 단위로 전송

**4) OSI 참조모델 7계층-네트워크 계층**
-네트워크 상 존재하는 라우터와 같은 노드를 거칠때마다 목적지로의**경로를 찾아주는 라우팅 역할을 하는 계층**
-**패킷**:네트워크 계층의 데이터 전송 단위
-라우터에 패킷이 도착하면 패킷의 목적지 주소에 따라 적합한 라우터로 중개하며 이러한 과정을 통해 최종 목적지에 도착
-라우터가 패킷을 중개할때 자신이 관리하고 있는 **라우팅 테이블**을 사용
- 라우팅 테이블:라우터에 패킷이 도착했을때 어느 링크로 패킷을 보내야할지에 대한 정보를 가지고 있는 테이블

-네트워크 계층의 예:인터넷IP,

**5) OSI 참조모델 7계층-트랜스포트 계층**
-호스트 간 신뢰성 있는 데이터 전송 기능을 제공(라우터와 같은 노드와 상관없음)
-단대단(end-to-end/host-to-host) 오류 복구,흐름제어 기능
-단대단 전송:프로세스와 프로세스 간의 전송 의미(네트워크 계층은 호스트에서 호스트로의 데이터 전송에 관계)
-PDU:트랜스포트 계층의 데이터 전송 단위, 송신측,수신측 **포트번호** 포함
- 포트번호: 특정 프로세스를 나타내기 위해 트렌스포트 계층에서 사용하는 주소

-ex. TCP,UDP

>네트워크 인터페이스 계층과 인터넷 계층이 컴퓨터와 컴퓨터 간의 데이터 전송을 담당했다면 **전송 계층은 컴퓨터 내부에 있는 애플리케이션까지의 데이터 전송을 담당**합니다.
>네트워크 인터페이스 계층과 인터넷 계층에서는 컴퓨터에서 컴퓨터로, 랜 케이블 같은 전송 매체를 통해 스위치나 라우터 같은 네트워크 장비를 거쳐 데이터가 전송되기 때문에 물리적인 데이터의 이동 통로가 존재하고, **물리적인 이동 통로 상에서 데이터의 흐름을 논리적으로 제어**합니다. 물리적인 공간의 이동이 있기에 머릿속으로 쉽게 상상할 수 있고, 노드와 링크로 추상화해서 이해하기도 수월합니다.
>반면 애플리케이션까지 데이터가 이동하는 것은 컴퓨터 내부에서 일어나는 일이기에 상상하기 쉽지 않고, 상상할 수 없는 것을 추상화해서 이해한다는 것은 더욱 어렵습니다. **전송 계층을 보다 쉽게 이해하기 위해 애플리케이션 간에 가상의 연결 통로가 존재한다고 상상하는 것이 좋습니다.**
>컴퓨터 내에 동작하는 다양한 애플리케이션들이 동시에 송수신하는 데이터를 구별하기 위해 전송계층에서는 애플리케이션마다 가상의 연결 통로를 만들어 데이터를 전송하기 때문입니다. 통신을 시작하기 전에 통신하고자 하는 애플리케이션끼리만 사용이 가능한 가상의 연결 통로를 확보하고, 이 전용 통로로만 데이터를 전송하여 정확하고 신뢰할 수 있는 데이터의 전송을 보장하는 것입니다.
>통신하고자 하는 애플리케이션 간에 가상의 연결 통로를 만드는 작업을 연결 확립이라 하고 연결 통로의 출입구, 즉 **애플리케이션과 연결 통로의 인터페이스를 포트(port)** 라고 하며 포트를 식별하기 위한 주소를 포트 번호라고 합니다.
>애플리케이션이라는 최종 목적지까지 데이터 전송을 책임지는 것이 전송 계층의 또 다른 역할입니다. 즉, 전송 계층은 다양한 애플리케이션이 동작하는 컴퓨터 내에서 어떤 애플리케이션이 사용하는 데이터인지 식별하여 수신지 컴퓨터에 도착한 데이터를 수신지 컴퓨터 내의 애플리케이션에 배분하는 역할을 합니다. 인터넷 계층이 컴퓨터(호스트) 간의 데이터 통신을, 전송 계층이 애플리케이션 간의 데이터 통신을 구현한다고 볼 수 있습니다. 인터넷 계층이 호스트를 식별하기 위해 IP 주소를 사용하는 것처럼, 전송 계층에서는 애플리케이션을 식별하기 위해 포트 번호를 사용합니다.

**6) OSI 참조모델 7계층-세션 계층**
-응용 프로세스 간의 통신을 제어하는 기능 즉,응용 프로세스 간의 대화를 위해 세션을 설정하여 사용하는 기능 제공
-제공기능
- 대화형태:단방향,반이중,전이중
- 복구 기능:체크포인트 기능:송신측에서 수신측에 데이터를 보낼때 사이사이에 체크포인트 함께 전송. 

**7) OSI 참조모델 7계층-표현 계층/응용계층**
**표현계층**
-호스트간에 교환되는 데이터의 표현방법
-송신호스트는 데이터를 양쪽 호스트가 이해할 수 있는 표준화 된 형식 인코딩, 수신호스트는 표중화된 형식을 수신측에 적합한 형식으로 디코딩 하는 기능
-암호화,압축 기능
**응용계층**
-최상위 계층, 사용자에게 필요한 응용서비스를 제공하는 계층
-ex.FTAM(파일 전송 프로토콜),VT(가상 단말 서비스 프로토콜)

## 인터넷 프로토콜 

**1)인터넷 프로토콜 구조**

-인터넷 프로토콜 구조는 5계층으로 구성
-인터넷과 연결된 모든 컴퓨터는 TCP/IP 통신방식 준수
![](https://velog.velcdn.com/images/leesh970930/post/34b77f2b-2b00-4d6e-9e6c-af29dc4f6de2/image.png)
![](https://velog.velcdn.com/images/leesh970930/post/5e7f8e1f-b57d-4d71-b210-457c07f31d1f/image.png)

**2-1) 네트워크 인터페이스 계층**
-프레임을 네트워크 전송매체로 전달하는 것과 네트워크 전송매체에서 프레임을 받아들이는 과정을 담당
-TCP/IP는 네트워크 접근 방법, 프레임 포멧,매체에 대해 독립적으로 동작하도록 설계
-TCP/IP는 서로 다른 네트워크 형태를 연결하는데 사용가능
-네트워크 인터페이스 계층은 OSI 모델에서 데이터 링크 계층에 해당하며 이와 관련된 하드웨어가 물리적 계층에 해당

**2-2)인터넷 계층**
-OSI모델의 네트워크 계층 어드레싱(IP주소),패키징(데이터 전송할때 패킷을 만드는 과정),라우팅(패킷을 목적지까지 전송할 수 있도록) 기능 제공
-IP,ARP,ICMP,IGMP 등을 포함

**2-3)트랜스포트 계층**
-두 호스트 간 단대단 통신 계층
-TCP,UDP
- TCP:1:1 연결 지향(수신자 송신자 간 논리적 연결을 맺어서 데이터가 안정적으로 전달될 수 있도록)
- UDP:1:다,1:1의 비연결 지향, 신뢰할 수 없는 통신 서비스 제공
/DNS(도메인 네임 서비스),전달해야할 데이터의 크기가 작을때

**2-4)응용 계층**
-사용자와 가장 밀접한 관계를 가지고 있는 계층
-가장 많이 알려진 응용 계층 프로토콜
- HTTP:웹페이지 파일 전송시 사용
- FTP: 상호 파일 전송을 위해 사용
- SMTP: 이메일 전송시 사용
-TCP/IP 네트워크를 관리하거나 지원하는 응용 계층 프로토콜
- DNS: 호스트 이름을 IP주소로 변환하기 위해 사용
- RIP: IP네트워크상에서 라우팅 정보를 교환하기 위해 **라우터가 사용하는 프로토콜**
- SNMP:네트워크 관리 콘솔과 네트워크 장비(라우터,브릿지 등)간에 네트워크 관리 정보를 수집,교환하기 위해 사용

**3)인터넷 프로토콜 구현환경**
-시스템 공간(계층 1~4):운영체제에서 동작

-사용자 공간(계층 5):사용자 프로그램으로 동작
- ex.웹서비스를 위해 크롬을 다운받아 사용

**4)프로토콜 캡슐화**
-OSI와 동일하게 캡슐화 적용
![](https://velog.velcdn.com/images/leesh970930/post/1b3045ff-f973-435f-93e5-c9895c24fdc9/image.png)
- 송신측
-응용계층 메세지는 트랜스포트 계층으로 전달
-트랜스포트 계층은 세그먼트(데이터+헤더)를 네트워크 계층으로 전달
-네트워크 계층은 데이터그램(데이터+헤더)를 링크 계층으로 전달
-링크 계층은 프레임(데이터+헤더)을 만들어 물리계층에 해당하는 전송매체를 통해 실제로 전송
- 수신측
-물리계층에서 데이터를 수신하여 상위계층으로 전달하는 과정을 반복
-각 계층은 자신의 데이터 단위가 도착하게 되면 프로토콜 동작이 수행